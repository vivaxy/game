{"version":3,"sources":["webpack:///js/manage.js","webpack:///./src/styles/manage.pcss","webpack:///./src/entries/manage.js","webpack:///./src/manage/index.js","webpack:///./src/styles/manage.pcss?8412"],"names":["webpackJsonp","./node_modules/css-loader/index.js!./node_modules/postcss-loader/index.js?{}!./src/styles/manage.pcss","module","exports","__webpack_require__","push","i","./src/entries/manage.js","./src/manage/index.js","_interopRequireDefault","obj","__esModule","default","_asyncToGenerator","fn","gen","apply","this","arguments","Promise","resolve","reject","step","key","arg","info","value","error","done","then","err","_fingerprintjs","_fingerprintjs2","_fetch","_fetch2","_getUsername","_getUsername2","_configs","input","document","querySelector","submit","get","_ref","regeneratorRuntime","mark","_callee","fingerprint","wrap","_context","prev","next","disabled","stop","undefined","_x","addEventListener","_ref2","_callee2","_context2","path","data","username","localStorage","setItem","storageKeys","USERNAME","_x2","./src/styles/manage.pcss","content","locals","1"],"mappings":";AAAAA,cAAc,IAERC,wGACA,SAAUC,EAAQC,EAASC,GCHjCD,EAAAD,EAAAC,QAAAC,EAAA,+CAKAD,EAAAE,MAAAH,EAAAI,EAAA,wFAA6G,MDYvGC,0BACA,SAAUL,EAAQC,EAASC,GAEjC,YEfAA,GAAA,0BF+BMI,wBACA,SAAUN,EAAQC,EAASC,GAEjC,YAmBA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAEvF,QAASG,GAAkBC,GAAM,MAAO,YAAc,GAAIC,GAAMD,EAAGE,MAAMC,KAAMC,UAAY,OAAO,IAAIC,SAAQ,SAAUC,EAASC,GAAU,QAASC,GAAKC,EAAKC,GAAO,IAAM,GAAIC,GAAOV,EAAIQ,GAAKC,GAAUE,EAAQD,EAAKC,MAAS,MAAOC,GAAwB,WAAfN,GAAOM,GAAkB,MAAIF,GAAKG,SAAQR,GAAQM,GAAwBP,QAAQC,QAAQM,GAAOG,KAAK,SAAUH,GAASJ,EAAK,OAAQI,IAAW,SAAUI,GAAOR,EAAK,QAASQ,KAAc,MAAOR,GAAK,WGvDzb,GAAAS,GAAA3B,EAAA,0DHuCI4B,EAAkBvB,EAAuBsB,EGrC7C3B,GAAA,2BACA,IAAA6B,GAAA7B,EAAA,sBH0CI8B,EAAUzB,EAAuBwB,GGzCrCE,EAAA/B,EAAA,4BH6CIgC,EAAgB3B,EAAuB0B,GG5C3CE,EAAAjC,EAAA,yBAEMkC,EAAQC,SAASC,cAAc,aAC/BC,EAASF,SAASC,cAAc,sBAEtC,GAAAR,GAAApB,SAAmB8B,IAAnB,cAAAC,GAAA9B,EAAA+B,mBAAAC,KAAuB,QAAAC,GAAMC,GAAN,MAAAH,oBAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACnBb,EAAMZ,OAAQ,EAAAU,EAAAxB,UAAcmC,gBAC5BT,EAAMc,UAAW,EACjBX,EAAOW,UAAW,CAHC,wBAAAH,GAAAI,SAAAP,EAAAQ,UAAvB,iBAAAC,GAAA,MAAAZ,GAAA3B,MAAAC,KAAAC,gBAMAuB,EAAOe,iBAAiB,QAAS,WACzBf,EAAOW,WAGXX,EAAOW,UAAW,GAClB,GAAApB,GAAApB,SAAmB8B,IAAnB,cAAAe,GAAA5C,EAAA+B,mBAAAC,KAAuB,QAAAa,GAAMX,GAAN,MAAAH,oBAAAI,KAAA,SAAAW,GAAA,cAAAA,EAAAT,KAAAS,EAAAR,MAAA,aAAAQ,GAAAR,KAAA,GACb,EAAAjB,EAAAtB,UACFgD,KAAM,iCACNC,MAAQC,kBAAUf,gBAHH,QAKnBgB,aAAaC,QAAQ3B,EAAA4B,YAAYC,SAAUJ,UAC3CrB,EAAOW,UAAW,CANC,wBAAAO,GAAAN,SAAAK,EAAAJ,UAAvB,iBAAAa,GAAA,MAAAV,GAAAzC,MAAAC,KAAAC,oBHsGEkD,2BACA,SAAUlE,EAAQC,EAASC,GI9HjC,GAAAiE,GAAAjE,EAAA,wGACA,iBAAAiE,SAAAnE,EAAAI,EAAA+D,EAAA,KAEAjE,GAAA,4CAAAiE,KACAA,GAAAC,SAAApE,EAAAC,QAAAkE,EAAAC,SJoJMC,EACA,SAAUrE,EAAQC,EAASC,GAEjCF,EAAOC,QAAUC,EAAoB,8BAKlC","file":"js/manage.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ \"./node_modules/css-loader/index.js!./node_modules/postcss-loader/index.js?{}!./src/styles/manage.pcss\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"./node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.i, \"input {\\n    border: 1px solid #000;\\n}\\n\\nbutton {\\n    border: 1px solid #000;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"./src/entries/manage.js\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n__webpack_require__(\"./src/manage/index.js\");\n\nif (false) {\n    module.hot.accept('../manage', function () {\n        location.reload();\n    });\n} /**\n   * @since 20180124 11:41\n   * @author vivaxy\n   */\n\n/***/ }),\n\n/***/ \"./src/manage/index.js\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _fingerprintjs = __webpack_require__(\"./node_modules/fingerprintjs2/dist/fingerprint2.min.js\");\n\nvar _fingerprintjs2 = _interopRequireDefault(_fingerprintjs);\n\n__webpack_require__(\"./src/styles/manage.pcss\");\n\nvar _fetch = __webpack_require__(\"./src/lib/fetch.js\");\n\nvar _fetch2 = _interopRequireDefault(_fetch);\n\nvar _getUsername = __webpack_require__(\"./src/lib/getUsername.js\");\n\nvar _getUsername2 = _interopRequireDefault(_getUsername);\n\nvar _configs = __webpack_require__(\"./src/main/configs.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since 20180124 11:42\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @author vivaxy\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar input = document.querySelector('#username');\nvar submit = document.querySelector('.js-submit-button');\n\nnew _fingerprintjs2.default().get(function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(fingerprint) {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n                switch (_context.prev = _context.next) {\n                    case 0:\n                        input.value = (0, _getUsername2.default)({ fingerprint: fingerprint });\n                        input.disabled = false;\n                        submit.disabled = false;\n\n                    case 3:\n                    case 'end':\n                        return _context.stop();\n                }\n            }\n        }, _callee, undefined);\n    }));\n\n    return function (_x) {\n        return _ref.apply(this, arguments);\n    };\n}());\n\nsubmit.addEventListener('click', function () {\n    if (submit.disabled) {\n        return;\n    }\n    submit.disabled = true;\n    new _fingerprintjs2.default().get(function () {\n        var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(fingerprint) {\n            return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                while (1) {\n                    switch (_context2.prev = _context2.next) {\n                        case 0:\n                            _context2.next = 2;\n                            return (0, _fetch2.default)({\n                                path: '/api/15-puzzle/change-username',\n                                data: { username: username, fingerprint: fingerprint }\n                            });\n\n                        case 2:\n                            localStorage.setItem(_configs.storageKeys.USERNAME, username);\n                            submit.disabled = false;\n\n                        case 4:\n                        case 'end':\n                            return _context2.stop();\n                    }\n                }\n            }, _callee2, undefined);\n        }));\n\n        return function (_x2) {\n            return _ref2.apply(this, arguments);\n        };\n    }());\n});\n\n/***/ }),\n\n/***/ \"./src/styles/manage.pcss\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"./node_modules/css-loader/index.js!./node_modules/postcss-loader/index.js?{}!./src/styles/manage.pcss\");\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(\"./node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/postcss-loader/index.js??ref--1-2!./manage.pcss\", function() {\n\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/postcss-loader/index.js??ref--1-2!./manage.pcss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n\n/***/ 1:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(\"./src/entries/manage.js\");\n\n\n/***/ })\n\n},[1]);\n\n\n// WEBPACK FOOTER //\n// js/manage.js","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"input {\\n    border: 1px solid #000;\\n}\\n\\nbutton {\\n    border: 1px solid #000;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/postcss-loader?{}!./src/styles/manage.pcss\n// module id = ./node_modules/css-loader/index.js!./node_modules/postcss-loader/index.js?{}!./src/styles/manage.pcss\n// module chunks = 1","/**\n * @since 20180124 11:41\n * @author vivaxy\n */\n\nimport '../manage';\n\nif (module.hot) {\n    module.hot.accept('../manage', () => {\n        location.reload();\n    });\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/entries/manage.js","/**\n * @since 20180124 11:42\n * @author vivaxy\n */\n\nimport Fingerprint2 from 'fingerprintjs2';\n\nimport '../styles/manage.pcss';\nimport fetch from '../lib/fetch';\nimport getUsername from '../lib/getUsername';\nimport { storageKeys } from '../main/configs';\n\nconst input = document.querySelector('#username');\nconst submit = document.querySelector('.js-submit-button');\n\nnew Fingerprint2().get(async(fingerprint) => {\n    input.value = getUsername({ fingerprint });\n    input.disabled = false;\n    submit.disabled = false;\n});\n\nsubmit.addEventListener('click', () => {\n    if (submit.disabled) {\n        return;\n    }\n    submit.disabled = true;\n    new Fingerprint2().get(async(fingerprint) => {\n        await fetch({\n            path: '/api/15-puzzle/change-username',\n            data: { username, fingerprint },\n        });\n        localStorage.setItem(storageKeys.USERNAME, username);\n        submit.disabled = false;\n    });\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/manage/index.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/postcss-loader/index.js??ref--1-2!./manage.pcss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/postcss-loader/index.js??ref--1-2!./manage.pcss\", function() {\n\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/postcss-loader/index.js??ref--1-2!./manage.pcss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/styles/manage.pcss\n// module id = ./src/styles/manage.pcss\n// module chunks = 1"],"sourceRoot":""}