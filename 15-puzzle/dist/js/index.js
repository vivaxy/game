/*! @2017 vivaxy */
webpackJsonp([0],{"./node_modules/bezier-easing/src/index.js":function(e,t,n){"use strict";function i(e,t){return 1-3*t+3*e}function r(e,t){return 3*t-6*e}function o(e){return 3*e}function s(e,t,n){return((i(t,n)*e+r(t,n))*e+o(t))*e}function a(e,t,n){return 3*i(t,n)*e*e+2*r(t,n)*e+o(t)}function u(e,t,n,i,r){var o,a,u=0;do a=t+(n-t)/2,o=s(a,i,r)-e,o>0?n=a:t=a;while(Math.abs(o)>f&&++u<h);return a}function c(e,t,n,i){for(var r=0;r<l;++r){var o=a(t,n,i);if(0===o)return t;var u=s(t,n,i)-e;t-=u/o}return t}var l=4,d=.001,f=1e-7,h=10,p=11,v=1/(p-1),m="function"==typeof Float32Array;e.exports=function(e,t,n,i){function r(t){for(var i=0,r=1,s=p-1;r!==s&&o[r]<=t;++r)i+=v;--r;var l=(t-o[r])/(o[r+1]-o[r]),f=i+l*v,h=a(f,e,n);return h>=d?c(t,f,e,n):0===h?f:u(t,i,i+v,e,n)}if(!(0<=e&&e<=1&&0<=n&&n<=1))throw new Error("bezier x values must be in [0, 1] range");var o=m?new Float32Array(p):new Array(p);if(e!==t||n!==i)for(var l=0;l<p;++l)o[l]=s(l*v,e,n);return function(o){return e===t&&n===i?o:0===o?0:1===o?1:s(r(o),t,i)}}},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/index.js?{}!./src/styles/index.pcss":function(e,t,n){t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(),t.push([e.i,"/**\n * @since 2017-02-20 10:27\n * @author vivaxy\n */\n\n:root {\n}\n\n* {\n    -webkit-tap-highlight-color: transparent;\n}\n\nhtml {\n    height: 100%;\n    box-sizing: border-box;\n}\n\nbody {\n    margin: 0;\n    height: 100%;\n    position: relative;\n}\n\ncanvas {\n    display: block;\n    background-color: #ffffff;\n    position: absolute;\n}\n\n.score-container {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: rgba(0, 0, 0, 0.9);\n    color: #fff;\n    font-size: 12px;\n    display: none;\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n        -ms-flex-direction: column;\n            flex-direction: column;\n    padding: 60px 20px;\n}\n\n.score-container .score-tab {\n    -webkit-box-flex: 0;\n        -ms-flex: none;\n            flex: none;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    text-align: center;\n    height: 30px;\n    line-height: 30px;\n    margin-bottom: 30px;\n}\n\n.score-container .score-tab .score-tab-item {\n    -webkit-box-flex: 1;\n        -ms-flex: 1;\n            flex: 1;\n    border-bottom: 1px solid transparent;\n}\n\n.score-container .score-tab .score-tab-item[data-active] {\n    border-bottom-color: #fff;\n}\n\n.score-container .score-list {\n    -webkit-box-flex: 1;\n        -ms-flex: 1;\n            flex: 1;\n    overflow-y: auto;\n}\n\n.score-container .score-list ul {\n    margin: 0;\n    padding: 0;\n}\n\n.score-container .score-list ul li {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    margin-bottom: 10px;\n}\n\n.score-container .score-list ul li div {\n    display: inline-block;\n    height: 20px;\n    line-height: 20px;\n}\n\n.score-container .score-list ul li .index {\n    width: 5%;\n    text-align: right;\n}\n\n.score-container .score-list ul li .username {\n    width: 35%;\n    text-indent: 10px;\n}\n\n.score-container .score-list ul li .steps {\n    width: 10%;\n    text-align: right;\n}\n\n.score-container .score-list ul li .time {\n    width: 15%;\n    text-align: right;\n}\n\n.score-container .score-list ul li .timestamp {\n    width: 35%;\n    text-align: right;\n}\n",""])},"./node_modules/date-fns/difference_in_calendar_days/index.js":function(e,t,n){"use strict";function i(e,t){var n=r(e),i=r(t),a=n.getTime()-n.getTimezoneOffset()*o,u=i.getTime()-i.getTimezoneOffset()*o;return Math.round((a-u)/s)}var r=n("./node_modules/date-fns/start_of_day/index.js"),o=6e4,s=864e5;e.exports=i},"./node_modules/date-fns/format/index.js":function(e,t,n){"use strict";function i(e,t,n){var i=t?String(t):"YYYY-MM-DDTHH:mm:ss.SSSZ",o=n||{},s=o.locale,a=h.format.formatters,u=h.format.formattingTokensRegExp;s&&s.format&&s.format.formatters&&(a=s.format.formatters,s.format.formattingTokensRegExp&&(u=s.format.formattingTokensRegExp));var c=d(e);if(!f(c))return"Invalid Date";var l=r(i,a,u);return l(c)}function r(e,t,n){var i,r,s=e.match(n),a=s.length;for(i=0;i<a;i++)r=t[s[i]]||p[s[i]],r?s[i]=r:s[i]=o(s[i]);return function(e){for(var t="",n=0;n<a;n++)t+=s[n]instanceof Function?s[n](e,p):s[n];return t}}function o(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|]$/g,""):e.replace(/\\/g,"")}function s(e,t){t=t||"";var n=e>0?"-":"+",i=Math.abs(e),r=Math.floor(i/60),o=i%60;return n+a(r,2)+t+a(o,2)}function a(e,t){for(var n=Math.abs(e).toString();n.length<t;)n="0"+n;return n}var u=n("./node_modules/date-fns/get_day_of_year/index.js"),c=n("./node_modules/date-fns/get_iso_week/index.js"),l=n("./node_modules/date-fns/get_iso_year/index.js"),d=n("./node_modules/date-fns/parse/index.js"),f=n("./node_modules/date-fns/is_valid/index.js"),h=n("./node_modules/date-fns/locale/en/index.js"),p={M:function(e){return e.getMonth()+1},MM:function(e){return a(e.getMonth()+1,2)},Q:function(e){return Math.ceil((e.getMonth()+1)/3)},D:function(e){return e.getDate()},DD:function(e){return a(e.getDate(),2)},DDD:function(e){return u(e)},DDDD:function(e){return a(u(e),3)},d:function(e){return e.getDay()},E:function(e){return e.getDay()||7},W:function(e){return c(e)},WW:function(e){return a(c(e),2)},YY:function(e){return a(e.getFullYear(),4).substr(2)},YYYY:function(e){return a(e.getFullYear(),4)},GG:function(e){return String(l(e)).substr(2)},GGGG:function(e){return l(e)},H:function(e){return e.getHours()},HH:function(e){return a(e.getHours(),2)},h:function(e){var t=e.getHours();return 0===t?12:t>12?t%12:t},hh:function(e){return a(p.h(e),2)},m:function(e){return e.getMinutes()},mm:function(e){return a(e.getMinutes(),2)},s:function(e){return e.getSeconds()},ss:function(e){return a(e.getSeconds(),2)},S:function(e){return Math.floor(e.getMilliseconds()/100)},SS:function(e){return a(Math.floor(e.getMilliseconds()/10),2)},SSS:function(e){return a(e.getMilliseconds(),3)},Z:function(e){return s(e.getTimezoneOffset(),":")},ZZ:function(e){return s(e.getTimezoneOffset())},X:function(e){return Math.floor(e.getTime()/1e3)},x:function(e){return e.getTime()}};e.exports=i},"./node_modules/date-fns/get_day_of_year/index.js":function(e,t,n){"use strict";function i(e){var t=r(e),n=s(t,o(t)),i=n+1;return i}var r=n("./node_modules/date-fns/parse/index.js"),o=n("./node_modules/date-fns/start_of_year/index.js"),s=n("./node_modules/date-fns/difference_in_calendar_days/index.js");e.exports=i},"./node_modules/date-fns/get_iso_week/index.js":function(e,t,n){"use strict";function i(e){var t=r(e),n=o(t).getTime()-s(t).getTime();return Math.round(n/a)+1}var r=n("./node_modules/date-fns/parse/index.js"),o=n("./node_modules/date-fns/start_of_iso_week/index.js"),s=n("./node_modules/date-fns/start_of_iso_year/index.js"),a=6048e5;e.exports=i},"./node_modules/date-fns/get_iso_year/index.js":function(e,t,n){"use strict";function i(e){var t=r(e),n=t.getFullYear(),i=new Date(0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);var s=o(i),a=new Date(0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);var u=o(a);return t.getTime()>=s.getTime()?n+1:t.getTime()>=u.getTime()?n:n-1}var r=n("./node_modules/date-fns/parse/index.js"),o=n("./node_modules/date-fns/start_of_iso_week/index.js");e.exports=i},"./node_modules/date-fns/is_date/index.js":function(e,t,n){"use strict";function i(e){return e instanceof Date}e.exports=i},"./node_modules/date-fns/is_valid/index.js":function(e,t,n){"use strict";function i(e){if(r(e))return!isNaN(e);throw new TypeError(toString.call(e)+" is not an instance of Date")}var r=n("./node_modules/date-fns/is_date/index.js");e.exports=i},"./node_modules/date-fns/locale/_lib/build_formatting_tokens_reg_exp/index.js":function(e,t,n){"use strict";function i(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);var i=r.concat(t).sort().reverse(),o=new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+i.join("|")+"|.)","g");return o}var r=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"];e.exports=i},"./node_modules/date-fns/locale/en/build_distance_in_words_locale/index.js":function(e,t,n){"use strict";function i(){function e(e,n,i){i=i||{};var r;return r="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),i.addSuffix?i.comparison>0?"in "+r:r+" ago":r}var t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};return{localize:e}}e.exports=i},"./node_modules/date-fns/locale/en/build_format_locale/index.js":function(e,t,n){"use strict";function i(){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Su","Mo","Tu","We","Th","Fr","Sa"],i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=["AM","PM"],u=["am","pm"],c=["a.m.","p.m."],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return i[e.getDay()]},dddd:function(e){return s[e.getDay()]},A:function(e){return e.getHours()/12>=1?a[1]:a[0]},a:function(e){return e.getHours()/12>=1?u[1]:u[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}},d=["M","D","DDD","d","Q","W"];return d.forEach(function(e){l[e+"o"]=function(t,n){return r(n[e](t))}}),{formatters:l,formattingTokensRegExp:o(l)}}function r(e){var t=e%100;if(t>20||t<10)switch(t%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"}var o=n("./node_modules/date-fns/locale/_lib/build_formatting_tokens_reg_exp/index.js");e.exports=i},"./node_modules/date-fns/locale/en/index.js":function(e,t,n){"use strict";var i=n("./node_modules/date-fns/locale/en/build_distance_in_words_locale/index.js"),r=n("./node_modules/date-fns/locale/en/build_format_locale/index.js");e.exports={distanceInWords:i(),format:r()}},"./node_modules/date-fns/parse/index.js":function(e,t,n){"use strict";function i(e,t){if(l(e))return new Date(e.getTime());if("string"!=typeof e)return new Date(e);var n=t||{},i=n.additionalDigits;i=null==i?h:Number(i);var c=r(e),d=o(c.date,i),p=d.year,v=d.restDateString,m=s(v,p);if(m){var y,g=m.getTime(),x=0;return c.time&&(x=a(c.time)),c.timezone?y=u(c.timezone):(y=new Date(g+x).getTimezoneOffset(),y=new Date(g+x+y*f).getTimezoneOffset()),new Date(g+x+y*f)}return new Date(e)}function r(e){var t,n={},i=e.split(p);if(v.test(i[0])?(n.date=null,t=i[0]):(n.date=i[0],t=i[1]),t){var r=z.exec(t);r?(n.time=t.replace(r[1],""),n.timezone=r[1]):n.time=t}return n}function o(e,t){var n,i=y[t],r=x[t];if(n=g.exec(e)||r.exec(e)){var o=n[1];return{year:parseInt(o,10),restDateString:e.slice(o.length)}}if(n=m.exec(e)||i.exec(e)){var s=n[1];return{year:100*parseInt(s,10),restDateString:e.slice(s.length)}}return{year:null}}function s(e,t){if(null===t)return null;var n,i,r,o;if(0===e.length)return i=new Date(0),i.setUTCFullYear(t),i;if(n=b.exec(e))return i=new Date(0),r=parseInt(n[1],10)-1,i.setUTCFullYear(t,r),i;if(n=w.exec(e)){i=new Date(0);var s=parseInt(n[1],10);return i.setUTCFullYear(t,0,s),i}if(n=_.exec(e)){i=new Date(0),r=parseInt(n[1],10)-1;var a=parseInt(n[2],10);return i.setUTCFullYear(t,r,a),i}if(n=S.exec(e))return o=parseInt(n[1],10)-1,c(t,o);if(n=T.exec(e)){o=parseInt(n[1],10)-1;var u=parseInt(n[2],10)-1;return c(t,o,u)}return null}function a(e){var t,n,i;if(t=j.exec(e))return n=parseFloat(t[1].replace(",",".")),n%24*d;if(t=E.exec(e))return n=parseInt(t[1],10),i=parseFloat(t[2].replace(",",".")),n%24*d+i*f;if(t=k.exec(e)){n=parseInt(t[1],10),i=parseInt(t[2],10);var r=parseFloat(t[3].replace(",","."));return n%24*d+i*f+1e3*r}return null}function u(e){var t,n;return(t=C.exec(e))?0:(t=M.exec(e))?(n=60*parseInt(t[2],10),"+"===t[1]?-n:n):(t=D.exec(e),t?(n=60*parseInt(t[2],10)+parseInt(t[3],10),"+"===t[1]?-n:n):0)}function c(e,t,n){t=t||0,n=n||0;var i=new Date(0);i.setUTCFullYear(e,0,4);var r=i.getUTCDay()||7,o=7*t+n+1-r;return i.setUTCDate(i.getUTCDate()+o),i}var l=n("./node_modules/date-fns/is_date/index.js"),d=36e5,f=6e4,h=2,p=/[T ]/,v=/:/,m=/^(\d{2})$/,y=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],g=/^(\d{4})/,x=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],b=/^-(\d{2})$/,w=/^-?(\d{3})$/,_=/^-?(\d{2})-?(\d{2})$/,S=/^-?W(\d{2})$/,T=/^-?W(\d{2})-?(\d{1})$/,j=/^(\d{2}([.,]\d*)?)$/,E=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,k=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,z=/([Z+-].*)$/,C=/^(Z)$/,M=/^([+-])(\d{2})$/,D=/^([+-])(\d{2}):?(\d{2})$/;e.exports=i},"./node_modules/date-fns/start_of_day/index.js":function(e,t,n){"use strict";function i(e){var t=r(e);return t.setHours(0,0,0,0),t}var r=n("./node_modules/date-fns/parse/index.js");e.exports=i},"./node_modules/date-fns/start_of_iso_week/index.js":function(e,t,n){"use strict";function i(e){return r(e,{weekStartsOn:1})}var r=n("./node_modules/date-fns/start_of_week/index.js");e.exports=i},"./node_modules/date-fns/start_of_iso_year/index.js":function(e,t,n){"use strict";function i(e){var t=r(e),n=new Date(0);n.setFullYear(t,0,4),n.setHours(0,0,0,0);var i=o(n);return i}var r=n("./node_modules/date-fns/get_iso_year/index.js"),o=n("./node_modules/date-fns/start_of_iso_week/index.js");e.exports=i},"./node_modules/date-fns/start_of_week/index.js":function(e,t,n){"use strict";function i(e,t){var n=t?Number(t.weekStartsOn)||0:0,i=r(e),o=i.getDay(),s=(o<n?7:0)+o-n;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}var r=n("./node_modules/date-fns/parse/index.js");e.exports=i},"./node_modules/date-fns/start_of_year/index.js":function(e,t,n){"use strict";function i(e){var t=r(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}var r=n("./node_modules/date-fns/parse/index.js");e.exports=i},"./node_modules/eventemitter3/index.js":function(e,t,n){"use strict";function i(){}function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,n,i,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new r(n,i||e,o),a=c?c+t:t;return e._events[a]?e._events[a].fn?e._events[a]=[e._events[a],s]:e._events[a].push(s):(e._events[a]=s,e._eventsCount++),e}function s(e,t){0===--e._eventsCount?e._events=new i:delete e._events[t]}function a(){this._events=new i,this._eventsCount=0}var u=Object.prototype.hasOwnProperty,c="~";Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(c=!1)),a.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)u.call(e,t)&&n.push(c?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},a.prototype.listeners=function(e){var t=c?c+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,r=n.length,o=new Array(r);i<r;i++)o[i]=n[i].fn;return o},a.prototype.listenerCount=function(e){var t=c?c+e:e,n=this._events[t];return n?n.fn?1:n.length:0},a.prototype.emit=function(e,t,n,i,r,o){var s=c?c+e:e;if(!this._events[s])return!1;var a,u,l=this._events[s],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,i),!0;case 5:return l.fn.call(l.context,t,n,i,r),!0;case 6:return l.fn.call(l.context,t,n,i,r,o),!0}for(u=1,a=new Array(d-1);u<d;u++)a[u-1]=arguments[u];l.fn.apply(l.context,a)}else{var f,h=l.length;for(u=0;u<h;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),d){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,n);break;case 4:l[u].fn.call(l[u].context,t,n,i);break;default:if(!a)for(f=1,a=new Array(d-1);f<d;f++)a[f-1]=arguments[f];l[u].fn.apply(l[u].context,a)}}return!0},a.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,n,i){var r=c?c+e:e;if(!this._events[r])return this;if(!t)return s(this,r),this;var o=this._events[r];if(o.fn)o.fn!==t||i&&!o.once||n&&o.context!==n||s(this,r);else{for(var a=0,u=[],l=o.length;a<l;a++)(o[a].fn!==t||i&&!o[a].once||n&&o[a].context!==n)&&u.push(o[a]);u.length?this._events[r]=1===u.length?u[0]:u:s(this,r)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=c?c+e:e,this._events[t]&&s(this,t)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=c,a.EventEmitter=a,e.exports=a},"./src/entries/index.js":function(e,t,n){"use strict";n("./src/main/index.js")},"./src/main/canvas.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n("./src/main/configs.js"),s=function(){function e(){i(this,e);var t=document.querySelector(".js-canvas");this.canvas=t,this.ctx=t.getContext("2d"),this.width=o.canvasWidth,this.height=o.canvasHeight,t.width=o.canvasWidth,t.height=o.canvasHeight,this.styles={width:window.innerWidth,height:window.innerHeight,top:0,left:0},this.updatePosition()}return r(e,[{key:"updatePosition",value:function(){var e=this.canvas,t=this.width,n=this.height,i=this.styles;t/n>window.innerWidth/window.innerHeight?(i.width=window.innerWidth,i.height=window.innerWidth*n/t):(i.height=window.innerHeight,i.width=window.innerHeight*t/n),i.top=(window.innerHeight-i.height)/2,i.left=(window.innerWidth-i.width)/2,Object.keys(i).forEach(function(t){e.style[t]=i[t]+"px"})}},{key:"getCtx",value:function(){return this.ctx}},{key:"getCanvas",value:function(){return this.canvas}},{key:"clear",value:function(){this.ctx.clearRect(0,0,this.width,this.height)}}]),e}();t.default=s},"./src/main/index.js":function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n("./src/styles/index.pcss");var s=n("./src/main/configs.js"),a=n("./src/main/canvas.js"),u=i(a),c=n("./src/main/puzzle.js"),l=i(c),d=n("./src/main/input.js"),f=i(d),h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.row,i=void 0===n?4:n,o=t.col,a=void 0===o?4:o;r(this,e);var c=new u.default,d=new f.default({canvas:c.getCanvas()}),h=new l.default({ctx:c.getCtx(),row:i,col:a,input:d});this.canvas=c,this.puzzle=h,document.body.addEventListener(s.browserEvents.TOUCH_MOVE,function(e){e.preventDefault()},{passive:!1}),d.on(s.events.RESIZE_CANVAS,function(){c.updatePosition()})}return o(e,[{key:"render",value:function(){var e=this.puzzle,t=this.canvas;t.clear(),e.render()}},{key:"update",value:function(){var e=this.puzzle;e.update()}},{key:"loop",value:function(){var e=this;this.update(),this.render(),requestAnimationFrame(function(){e.loop()})}},{key:"start",value:function(){this.loop(),this.puzzle.scramble(),this.puzzle.puzzleStatus=s.puzzleStatusCodes.READY}}]),e}();(new h).start()},"./src/main/input.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n("./node_modules/eventemitter3/index.js"),u=n("./src/main/configs.js"),c=function(e){return e.changedTouches?{x:(0,u.mapPointToCanvas)(e.changedTouches[0].clientX-e.target.offsetLeft),y:(0,u.mapPointToCanvas)(e.changedTouches[0].clientY-e.target.offsetTop)}:{x:(0,u.mapPointToCanvas)(e.clientX-e.target.offsetLeft),y:(0,u.mapPointToCanvas)(e.clientY-e.target.offsetTop)}},l=function(e){function t(e){var n=e.canvas;i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.start=function(e){var t=c(e);o.resetPoint(t)},o.move=function(e){var t=c(e);o.pointX=t.x,o.pointY=t.y,o.tryMove()},o.end=function(){o.resetPoint(o.invalidPoint),o.emit(u.events.RESET_SPACE_TILE)},o.click=function(e){o.emit(u.events.CLICK,c(e))},o.resize=function(){o.emit(u.events.RESIZE_CANVAS)},o.orientationChange=function(){o.emit(u.events.RESIZE_CANVAS)},o.canvas=n,o.invalidPoint={x:null,y:null},o.resetPoint(o.invalidPoint),o.initialize(),o}return o(t,e),s(t,[{key:"initialize",value:function(){var e=this.canvas,t=document.body;t.addEventListener(u.browserEvents.TOUCH_START,this.start,{passive:!0}),t.addEventListener(u.browserEvents.TOUCH_MOVE,this.move,{passive:!0}),t.addEventListener(u.browserEvents.TOUCH_END,this.end,{passive:!0}),t.addEventListener(u.browserEvents.TOUCH_CANCEL,this.end,{passive:!0}),e.addEventListener(u.browserEvents.CLICK,this.click,{passive:!0}),window.addEventListener(u.browserEvents.RESIZE,this.resize,{passive:!0}),window.addEventListener(u.browserEvents.ORIENTATION_CHANGE,this.orientationChange,{passive:!0})}},{key:"getDirection",value:function(){var e=Math.abs(this.startPointX-this.pointX),t=Math.abs(this.startPointY-this.pointY);return e>t?this.pointX-this.startPointX>0?u.directions.RIGHT:u.directions.LEFT:this.pointY-this.startPointY>0?u.directions.DOWN:u.directions.UP}},{key:"tryMove",value:function(){var e=this.pointX-this.startPointX,t=this.pointY-this.startPointY,n={deltaX:e,deltaY:t,x:this.pointX,y:this.pointY},i=this.getDirection();this.emit(u.events.TRY_MOVE,i,n)}},{key:"setStartPoint",value:function(e){var t=e.x,n=void 0===t?this.startPointX:t,i=e.y,r=void 0===i?this.startPointY:i;this.startPointX=n,this.startPointY=r}},{key:"moveStartPoint",value:function(e){var t=e.x,n=e.y;this.startPointX+=t,this.startPointY+=n}},{key:"resetPoint",value:function(e){var t=e.x,n=e.y;this.startPointX=t,this.startPointY=n,this.pointX=t,this.pointY=n}}]),t}(a.EventEmitter);t.default=l},"./src/main/puzzle.js":function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function i(r,o){try{var s=t[r](o),a=s.value}catch(e){return void n(e)}return s.done?void e(a):Promise.resolve(a).then(function(e){i("next",e)},function(e){i("throw",e)})}return i("next")})}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n("./node_modules/fingerprintjs2/dist/fingerprint2.min.js"),c=i(u),l=n("./node_modules/date-fns/format/index.js"),d=i(l),f=n("./src/main/configs.js"),h=n("./src/main/puzzle/grid.js"),p=i(h),v=n("./src/main/puzzle/tile.js"),m=i(v),y=n("./src/main/puzzle/buttons.js"),g=i(y),x=n("./src/main/puzzle/timer.js"),b=i(x),w=n("./src/main/puzzle/stepper.js"),_=i(w),S=n("./src/main/puzzle/copyright.js"),T=i(S),j=n("./src/lib/fetch.js"),E=i(j),k=n("./src/lib/getUsername.js"),z=i(k),C={userTopStepsList:"My Steps",userTopTimeList:"My Time",globalTopStepsList:"World Steps",globalTopTimeList:"World Time"},M=["username","steps","time","timestamp"],D=function(e){return function(t){return Object.keys(t).map(function(n){if(n.toUpperCase()===e)return t[n]()})}},P=function(){function e(t){var n=t.ctx,i=t.row,r=t.col,o=t.input;s(this,e),this.ctx=n,this.row=i,this.col=r,this.input=o,this.grid=new p.default({ctx:n}),this.buttons=new g.default({ctx:n}),this.timer=new b.default({ctx:n}),this.stepper=new _.default({ctx:n}),this.copyright=new T.default({ctx:n}),this.tileList=this.initializeTileList(),this.initializeInput(),this.buttons.enable([f.buttonTypes.SCRAMBLE]),this.puzzleStatus=f.puzzleStatusCodes.SCRAMBLING,this.scores={},this.getScores()}return a(e,[{key:"initializeInput",value:function(){var e=this,t=document.querySelector(".js-score-container");this.input.on(f.events.TRY_MOVE,function(t,n){[f.puzzleStatusCodes.SCRAMBLING,f.puzzleStatusCodes.WINNING].includes(e.puzzleStatus)||(e.tryMove(t,n),D(t)({left:function(){n.deltaX<-f.movementThreshold&&e.move(t,n)},up:function(){n.deltaY<-f.movementThreshold&&e.move(t,n)},right:function(){n.deltaX>f.movementThreshold&&e.move(t,n)},down:function(){n.deltaY>f.movementThreshold&&e.move(t,n)}}))}),this.input.on(f.events.RESET_SPACE_TILE,function(){var t=e.findSpaceTile();t.animateToResetPosition()}),this.input.on(f.events.CLICK,function(n){var i=e.buttons.hitButton(n);switch(i){case f.buttonTypes.SCRAMBLE:return e.puzzleStatus=f.puzzleStatusCodes.SCRAMBLING,e.timer.reset(),e.stepper.reset(),e.scramble(),e.puzzleStatus=f.puzzleStatusCodes.READY,void e.buttons.enable([f.buttonTypes.SCRAMBLE]);case f.buttonTypes.SHOW_SCORE:return t.style.display="flex",void e.buttons.enable([f.buttonTypes.SHOW_SCORE])}e.copyright.hit(n)&&(location.href="https://vivaxyblog.github.io/")}),t.addEventListener(f.browserEvents.TOUCH_START,function(e){e.stopPropagation()}),t.addEventListener(f.browserEvents.TOUCH_MOVE,function(e){e.stopPropagation()}),t.addEventListener(f.browserEvents.TOUCH_END,function(e){e.stopPropagation()}),t.addEventListener(f.browserEvents.TOUCH_CANCEL,function(e){e.stopPropagation()}),t.addEventListener(f.browserEvents.CLICK,function(){t.style.display="none"})}},{key:"initializeTileList",value:function(){var e=this.ctx,t=this.col,n=this.row,i=f.tileSize,r=f.tileSize;return Array.from({length:n},function(o,s){return Array.from({length:t},function(o,a){return new m.default({ctx:e,width:i,height:r,colIndex:a,rowIndex:s,text:String(s*n+a+1),type:a===t-1&&s===n-1?f.tileTypes.SPACE:f.tileTypes.NORMAL})})})}},{key:"tryMove",value:function(e,t){var n=this.findSpaceTile();n.colIndex>=f.size-1&&t.deltaX>0&&(this.input.setStartPoint({x:n.x}),t.deltaX=0),n.colIndex<=0&&t.deltaX<0&&(this.input.setStartPoint({x:n.x}),t.deltaX=0),n.rowIndex<=0&&t.deltaY<0&&(this.input.setStartPoint({y:n.y}),t.deltaY=0),n.rowIndex>=f.size-1&&t.deltaY>0&&(this.input.setStartPoint({y:n.y}),t.deltaY=0),n.deltaX=t.deltaX,n.deltaY=t.deltaY}},{key:"swapTiles",value:function(e,t){var n=e.rowIndex,i=e.colIndex,r=t.rowIndex,o=t.colIndex,s=this.tileList[n][i],a=this.tileList[r][o];this.tileList[n][i]=a,this.tileList[r][o]=s,s.rowIndex=r,s.colIndex=o,a.rowIndex=n,a.colIndex=i;var u=s.deltaX,c=s.deltaY;s.deltaX=(i-o)*(f.tileSize+f.tileSpacing)+u,s.deltaY=(n-r)*(f.tileSize+f.tileSpacing)+c,a.deltaX=(o-i)*(f.tileSize+f.tileSpacing),a.deltaY=(r-n)*(f.tileSize+f.tileSpacing),a.animateToResetPosition(),this.input.moveStartPoint({x:(o-i)*(f.tileSize+f.tileSpacing),y:(r-n)*(f.tileSize+f.tileSpacing)}),this.puzzleStatus===f.puzzleStatusCodes.READY&&(this.timer.start(),this.puzzleStatus=f.puzzleStatusCodes.STARTED),this.puzzleStatus===f.puzzleStatusCodes.STARTED&&(this.stepper.update(),this.checkWinning())}},{key:"move",value:function(e,t){var n=this,i=this.findSpaceTile(),r=i.rowIndex,o=i.colIndex;D(e)({left:function(){return o<=0?void n.input.resetPoint(t):void n.swapTiles({rowIndex:r,colIndex:o},{rowIndex:r,colIndex:o-1})},up:function(){return r<=0?void n.input.resetPoint(t):void n.swapTiles({rowIndex:r,colIndex:o},{rowIndex:r-1,colIndex:o})},right:function(){return o>=n.col-1?void n.input.resetPoint(t):void n.swapTiles({rowIndex:r,colIndex:o},{rowIndex:r,colIndex:o+1})},down:function(){return r>=n.row-1?void n.input.resetPoint(t):void n.swapTiles({rowIndex:r,colIndex:o},{rowIndex:r+1,colIndex:o})}})}},{key:"findSpaceTile",value:function(){var e=this.tileList;return e.reduce(function(e,t){return e||t.reduce(function(e,t){return t.type===f.tileTypes.SPACE?t:e},null)},null)}},{key:"render",value:function(){var e=this.grid,t=this.tileList,n=this.buttons,i=this.timer,r=this.stepper,s=this.copyright,a=t.reduce(function(e,t){var n=e.list,i=e.spaceTile,r=t.reduce(function(e,t){var n=e.list,i=e.spaceTile;return t.type!==f.tileTypes.SPACE?{list:[].concat(o(n),[t]),spaceTile:i}:{list:n,spaceTile:t}},{list:[],spaceTile:null}),s=r.list,a=r.spaceTile;return{list:[].concat(o(n),o(s)),spaceTile:i||a}},{list:[],spaceTile:null});e.render(),a.spaceTile.render(),a.list.map(function(e){e.render()}),n.render(),i.render(),r.render(),s.render()}},{key:"update",value:function(){this.tileList.forEach(function(e){e.forEach(function(e){e.update()})}),this.timer.update()}},{key:"scramble",value:function(){var e=this,t=Object.keys(f.directions);Array.from({length:1e3},function(){return f.directions[t[Math.floor(Math.random()*t.length)]]}).map(function(t){return e.move(t,{x:0,y:0})});var n=this.findSpaceTile();n.animateToResetPosition()}},{key:"checkWinning",value:function(){var e=this.row,t=this.tileList.every(function(t,n){return t.every(function(t,i){return Number(t.text)===n*e+i+1})});t&&(this.puzzleStatus=f.puzzleStatusCodes.WINNING,this.timer.stop(),this.saveScore())}},{key:"getScores",value:function(){var e=this;(new c.default).get(function(){var t=r(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,E.default)({path:"/api/15-puzzle/get-scores",data:{fingerprint:n}});case 2:e.scores=t.sent,e.updateScoreBoard();case 4:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}())}},{key:"saveScore",value:function(){var e=this,t=this.timer.getTime(),n=this.stepper.getSteps();(new c.default).get(function(){var i=r(regeneratorRuntime.mark(function i(r){var o,s;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return o=(0,z.default)({fingerprint:r}),s=(0,f.getNow)(),i.next=4,(0,E.default)({path:"/api/15-puzzle/add-score",data:{username:o,time:t,steps:n,fingerprint:r,timestamp:s}});case 4:e.scores=i.sent,e.updateScoreBoard();case 6:case"end":return i.stop()}},i,e)}));return function(e){return i.apply(this,arguments)}}())}},{key:"updateScoreBoard",value:function(){var e=this,t=document.querySelector(".js-score-container");t.innerHTML="";var n=document.createElement("div");n.setAttribute("class","score-tab");
var i=document.createElement("div");i.setAttribute("class","score-list"),Object.keys(C).forEach(function(t){var r=document.createElement("div");r.innerHTML=C[t],r.setAttribute("class","score-tab-item"),n.appendChild(r);var o=document.createElement("ul"),s=e.scores[t],a=document.createElement("li"),u=document.createElement("div");u.setAttribute("class","index"),u.innerHTML="",a.appendChild(u),M.forEach(function(e){var t=document.createElement("div");t.setAttribute("class",e),t.innerHTML=e,a.appendChild(t)}),o.appendChild(a),s.forEach(function(e,t){var n=document.createElement("li"),i=document.createElement("div");i.setAttribute("class","index"),i.innerHTML=t+1,n.appendChild(i),M.forEach(function(t){var i=document.createElement("div");i.setAttribute("class",t),"time"===t?i.innerHTML=(0,x.formatTime)(e[t]):"timestamp"===t?i.innerHTML=(0,d.default)(e[t],"YYYY-MM-DD HH:mm:ss"):i.innerHTML=e[t],n.appendChild(i)}),o.appendChild(n)}),i.appendChild(o)}),t.appendChild(n),t.appendChild(i);var r=Array.from(n.children),o=Array.from(i.children);r.forEach(function(e,t){0===t&&(e.setAttribute("data-active",""),o.forEach(function(e){e.style.display="none"}),o[t].style.display="block"),e.addEventListener(f.browserEvents.CLICK,function(n){n.stopPropagation(),e.hasAttribute("data-active")||(r.forEach(function(e){e.removeAttribute("data-active")}),e.setAttribute("data-active",""),o.forEach(function(e){e.style.display="none"}),o[t].style.display="block")})})}}]),e}();t.default=P},"./src/main/puzzle/buttons.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n("./src/main/configs.js"),s=function(){function e(t){var n=t.ctx;i(this,e),this.ctx=n,this.buttons=[{text:"Scramble",disabled:!0,type:o.buttonTypes.SCRAMBLE},{text:"Scores",disabled:!1,type:o.buttonTypes.SHOW_SCORE}]}return r(e,[{key:"enable",value:function(e){return this.buttons.map(function(t){return!!e.includes(t.type)&&(t.disabled=!1,!0)})}},{key:"hitButton",value:function(e){var t=e.x,n=e.y,i=(o.buttonAreaWidth+o.buttonSpacing)/this.buttons.length-o.buttonSpacing,r=this.buttons.find(function(e,r){var s=o.buttonAreaLeft+r*(i+o.buttonSpacing);return t>s&&t<s+i&&n>o.buttonAreaTop&&n<o.buttonAreaTop+o.buttonAreaHeight&&!e.disabled&&(e.disabled=!0,!0)});return r?r.type:null}},{key:"render",value:function(){var e=this.ctx,t=(o.buttonAreaWidth+o.buttonSpacing)/this.buttons.length-o.buttonSpacing;this.buttons.forEach(function(n,i){var r=o.buttonAreaLeft+i*(t+o.buttonSpacing);e.fillStyle=n.disabled?o.buttonDisabledBackgroundColor:o.buttonBackgroundColor,e.fillRect(r,o.buttonAreaTop,t,o.buttonAreaHeight),e.font="48px serif",e.textAlign="center",e.textBaseline="middle",e.fillStyle=o.buttonTextColor,e.fillText(n.text,r+t/2,o.buttonAreaTop+o.buttonAreaHeight/2)})}}]),e}();t.default=s},"./src/main/puzzle/copyright.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n("./src/main/configs.js"),s=function(){function e(t){var n=t.ctx;i(this,e),this.ctx=n,this.text="© Copyright by vivaxy"}return r(e,[{key:"hit",value:function(e){var t=e.x,n=e.y;return t>o.copyrightLeft&&t<o.copyrightLeft+o.copyrightWidth&&n>o.copyrightTop&&n<o.copyrightTop+o.copyrightHeight}},{key:"render",value:function(){var e=this.ctx,t=this.text;e.font=o.copyrightFontSize+"px serif",e.textAlign="center",e.textBaseline="middle",e.fillStyle=o.copyrightFontColor,e.fillText(t,o.copyrightLeft+o.copyrightWidth/2,o.copyrightTop+o.copyrightHeight/2)}}]),e}();t.default=s},"./src/main/puzzle/grid.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n("./src/main/configs.js"),s=function(){function e(t){var n=t.ctx;i(this,e),this.ctx=n,this.x=o.gridX,this.y=o.gridY,this.width=this.height=o.gridSize,this.borderWidth=o.gridBorderWidth,this.strokeStyle=o.gridBorderColor,this.fillStyle=o.gridBackgroundColor}return r(e,[{key:"render",value:function(){var e=this.ctx,t=this.strokeStyle,n=this.fillStyle,i=this.borderWidth,r=this.x,o=this.y,s=this.width,a=this.height;i&&(e.strokeStyle=t,e.lineWidth=i,e.strokeRect(r,o,s,a)),e.fillStyle=n,e.fillRect(r,o,s,a)}}]),e}();t.default=s},"./src/main/puzzle/stepper.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n("./src/main/configs.js"),s=function(){function e(t){var n=t.ctx;i(this,e),this.ctx=n,this.steps=0}return r(e,[{key:"render",value:function(){var e=this.ctx;e.font=o.stepperFontSize+"px/"+o.stepperHeight+"px serif",e.textAlign="right",e.textBaseline="middle",e.fillStyle=o.stepperFontColor,e.fillText(String(this.steps),o.stepperLeft+o.stepperWidth,o.stepperTop+o.stepperHeight/2)}},{key:"reset",value:function(){this.steps=0}},{key:"update",value:function(){this.steps+=1}},{key:"getSteps",value:function(){return this.steps}}]),e}();t.default=s},"./src/main/puzzle/tile.js":function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n("./node_modules/bezier-easing/src/index.js"),a=i(s),u=n("./src/main/configs.js"),c=function(){function e(t){var n=t.ctx,i=t.width,o=t.height,s=t.text,c=t.type,l=t.rowIndex,d=t.colIndex,f=t.deltaX,h=void 0===f?0:f,p=t.deltaY,v=void 0===p?0:p;r(this,e),this.ctx=n,this.width=i,this.height=o,this.borderWidth=u.tileBorderWidth,this.strokeStyle=u.tileBorderColor,this.text=s,this.type=c,this.rowIndex=l,this.colIndex=d,this.deltaX=h,this.deltaY=v,this.fillStyle=u.tileColors[Math.min(l,d)],this.easing=(0,a.default)(.2,0,0,1),this.animationDuration=100}return o(e,[{key:"renderSpaceTile",value:function(){var e=this.ctx,t=this.fillStyle,n=this.borderWidth,i=this.width,r=this.height,o=this.rowIndex,s=this.colIndex,a=this.deltaX,c=this.deltaY,l=(0,u.getTilePosition)({colIndex:s,rowIndex:o}),d=l.x,f=l.y;e.fillStyle=t,e.fillRect(d+a,f+c,i,r),n&&(e.lineWidth=n,e.strokeStyle=strokeStyle,e.strokeRect(d,f,i,r))}},{key:"renderNormalTile",value:function(){var e=this.ctx,t=this.strokeStyle,n=this.fillStyle,i=this.borderWidth,r=this.width,o=this.height,s=this.text,a=this.rowIndex,c=this.colIndex,l=this.deltaX,d=this.deltaY,f=(0,u.getTilePosition)({colIndex:c,rowIndex:a}),h=f.x,p=f.y;e.fillStyle=n,e.fillRect(h+l,p+d,r,o),i&&(e.lineWidth=i,e.strokeStyle=t,e.strokeRect(h,p,r,o)),e.font="48px serif",e.textAlign="center",e.textBaseline="middle",e.fillStyle=u.tileTextColor,e.fillText(s,h+l+r/2,p+d+o/2)}},{key:"render",value:function(){var e=this.type;return e===u.tileTypes.SPACE?this.renderSpaceTile():this.renderNormalTile()}},{key:"update",value:function(){this.updateDeltaAnimation()}},{key:"animateToResetPosition",value:function(){this.animationStartTime=(0,u.getNow)(),this.animationStartDeltaX=this.deltaX,this.animationStartDeltaY=this.deltaY,this.animationStartWidth=this.width,this.animationStartHeight=this.height}},{key:"updateDeltaAnimation",value:function(){if(this.animationStartTime){var e=((0,u.getNow)()-this.animationStartTime)/this.animationDuration;this.deltaX=this.animationStartDeltaX*(1-this.easing(e)),this.deltaY=this.animationStartDeltaY*(1-this.easing(e)),e>=1&&(this.deltaX=0,this.deltaY=0,this.animationStartTime=null,this.animationStartDeltaX=null,this.animationStartDeltaY=null,this.animationStartWidth=null,this.animationStartHeight=null)}}}]),e}();t.default=c},"./src/main/puzzle/timer.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.formatTime=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n("./src/main/configs.js"),s=function(e,t){for(;t-e.length>0;)e="0"+e;return e},a=t.formatTime=function(e){var t=e%1e3,n=(e-t)/1e3%60,i=((e-t)/1e3-n)/60;return i+":"+s(String(n),2)+"."+s(String(t),3)},u=function(){function e(t){var n=t.ctx;i(this,e),this.ctx=n,this.time=0,this.startingTime=null}return r(e,[{key:"render",value:function(){var e=this.ctx;e.font=o.timerFontSize+"px/"+o.timerHeight+"px serif",e.textAlign="left",e.textBaseline="middle",e.fillStyle=o.timerFontColor,e.fillText(a(this.time),o.timerLeft,o.timerTop+o.timerHeight/2)}},{key:"start",value:function(){this.startingTime||(this.time=0,this.startingTime=(0,o.getNow)())}},{key:"stop",value:function(){this.startingTime=null}},{key:"reset",value:function(){this.time=0,this.startingTime=null}},{key:"update",value:function(){this.startingTime&&(this.time=(0,o.getNow)()-this.startingTime)}},{key:"getTime",value:function(){return this.time}}]),e}();t.default=u},"./src/styles/index.pcss":function(e,t,n){var i=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/index.js?{}!./src/styles/index.pcss");"string"==typeof i&&(i=[[e.i,i,""]]);n("./node_modules/style-loader/addStyles.js")(i,{});i.locals&&(e.exports=i.locals)},0:function(e,t,n){e.exports=n("./src/entries/index.js")}},[0]);
//# sourceMappingURL=index.js.map