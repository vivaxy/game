/*! @2017 vivaxy */
webpackJsonp([0],{"./node_modules/css-loader/index.js!./node_modules/postcss-loader/index.js?{}!./src/styles/index.pcss":function(e,t,n){t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(),t.push([e.i,"/**\n * @since 2017-02-20 10:27\n * @author vivaxy\n */\n\n:root {\n}\n\nhtml {\n    height: 100%;\n}\n\nbody {\n    margin: 0;\n    height: 100%;\n    position: relative;\n    background-color: rgb(90, 90, 90);\n}\n\ncanvas {\n    position: absolute;\n    max-width: 100%;\n    max-height: 100%;\n    display: block;\n    top: 50%;\n    left: 50%;\n    -webkit-transform: translate3d(-50%, -50%, 0);\n            transform: translate3d(-50%, -50%, 0);\n    background-color: #ffffff;\n}\n",""])},"./node_modules/css-loader/lib/css-base.js":function(e,t,n){"use strict";e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<t.length;r++){var s=t[r];"number"==typeof s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},"./node_modules/eventemitter3/index.js":function(e,t,n){"use strict";function i(){}function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,n,i,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new r(n,i||e,o),c=l?l+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function s(e,t){0===--e._eventsCount?e._events=new i:delete e._events[t]}function c(){this._events=new i,this._eventsCount=0}var a=Object.prototype.hasOwnProperty,l="~";Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(l=!1)),c.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)a.call(e,t)&&n.push(l?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},c.prototype.listeners=function(e){var t=l?l+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,r=n.length,o=new Array(r);i<r;i++)o[i]=n[i].fn;return o},c.prototype.listenerCount=function(e){var t=l?l+e:e,n=this._events[t];return n?n.fn?1:n.length:0},c.prototype.emit=function(e,t,n,i,r,o){var s=l?l+e:e;if(!this._events[s])return!1;var c,a,u=this._events[s],f=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),f){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,i),!0;case 5:return u.fn.call(u.context,t,n,i,r),!0;case 6:return u.fn.call(u.context,t,n,i,r,o),!0}for(a=1,c=new Array(f-1);a<f;a++)c[a-1]=arguments[a];u.fn.apply(u.context,c)}else{var h,d=u.length;for(a=0;a<d;a++)switch(u[a].once&&this.removeListener(e,u[a].fn,void 0,!0),f){case 1:u[a].fn.call(u[a].context);break;case 2:u[a].fn.call(u[a].context,t);break;case 3:u[a].fn.call(u[a].context,t,n);break;case 4:u[a].fn.call(u[a].context,t,n,i);break;default:if(!c)for(h=1,c=new Array(f-1);h<f;h++)c[h-1]=arguments[h];u[a].fn.apply(u[a].context,c)}}return!0},c.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},c.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},c.prototype.removeListener=function(e,t,n,i){var r=l?l+e:e;if(!this._events[r])return this;if(!t)return s(this,r),this;var o=this._events[r];if(o.fn)o.fn!==t||i&&!o.once||n&&o.context!==n||s(this,r);else{for(var c=0,a=[],u=o.length;c<u;c++)(o[c].fn!==t||i&&!o[c].once||n&&o[c].context!==n)&&a.push(o[c]);a.length?this._events[r]=1===a.length?a[0]:a:s(this,r)}return this},c.prototype.removeAllListeners=function(e){var t;return e?(t=l?l+e:e,this._events[t]&&s(this,t)):(this._events=new i,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=l,c.EventEmitter=c,e.exports=c},"./node_modules/style-loader/addStyles.js":function(e,t){function n(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=h[i.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](i.parts[o]);for(;o<i.parts.length;o++)r.parts.push(a(i.parts[o],t))}else{for(var s=[],o=0;o<i.parts.length;o++)s.push(a(i.parts[o],t));h[i.id]={id:i.id,refs:1,parts:s}}}}function i(e){for(var t=[],n={},i=0;i<e.length;i++){var r=e[i],o=r[0],s=r[1],c=r[2],a=r[3],l={css:s,media:c,sourceMap:a};n[o]?n[o].parts.push(l):t.push(n[o]={id:o,parts:[l]})}return t}function r(e,t){var n=v(),i=g[g.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),g.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function o(e){e.parentNode.removeChild(e);var t=g.indexOf(e);t>=0&&g.splice(t,1)}function s(e){var t=document.createElement("style");return t.type="text/css",r(e,t),t}function c(e){var t=document.createElement("link");return t.rel="stylesheet",r(e,t),t}function a(e,t){var n,i,r;if(t.singleton){var a=x++;n=y||(y=s(t)),i=l.bind(null,n,a,!1),r=l.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=c(t),i=f.bind(null,n),r=function(){o(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),i=u.bind(null,n),r=function(){o(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}function l(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=b(t,r);else{var o=document.createTextNode(r),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}function u(e,t){var n=t.css,i=t.media;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function f(e,t){var n=t.css,i=t.sourceMap;i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var r=new Blob([n],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(r),o&&URL.revokeObjectURL(o)}var h={},d=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},p=d(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),v=d(function(){return document.head||document.getElementsByTagName("head")[0]}),y=null,x=0,g=[];e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},"undefined"==typeof t.singleton&&(t.singleton=p()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var r=i(e);return n(r,t),function(e){for(var o=[],s=0;s<r.length;s++){var c=r[s],a=h[c.id];a.refs--,o.push(a)}if(e){var l=i(e);n(l,t)}for(var s=0;s<o.length;s++){var a=o[s];if(0===a.refs){for(var u=0;u<a.parts.length;u++)a.parts[u]();delete h[a.id]}}}};var b=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},"./src/Index/canvas.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n("./src/Index/configs.js"),s=function(){function e(){i(this,e);var t=document.querySelector(".js-canvas");this.canvas=t,this.ctx=t.getContext("2d"),this.width=o.canvasWidth,this.height=o.canvasHeight,t.width=o.canvasWidth,t.height=o.canvasHeight}return r(e,[{key:"getCtx",value:function(){return this.ctx}},{key:"getCanvas",value:function(){return this.canvas}},{key:"clear",value:function(){this.ctx.clearRect(0,0,this.width,this.height)}}]),e}();t.default=s},"./src/Index/configs.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=t.canvasWidth=900,r=(t.canvasHeight=1600,t.size=4),o=t.gridSize=720,s=t.gridBorderWidth=5,c=t.gridX=(i-o-2*s)/2,a=t.gridY=200,l=(t.gridBorderColor="rgb(0, 255, 0)",t.tileSpacing=5),u=t.tileBorderWidth=5,f=t.tileSize=(o-l*(r+1)-2*s)/r-2*u;t.tileBorderColor="rgb(255, 0, 0)",t.getTilePosition=function(e){var t=e.rowIndex,n=e.colIndex,i=f+2*u,r=f+2*u,o=c+(n+1)*l+u+i*n+s,h=a+(t+1)*l+u+r*t+s;return{x:o,y:h}},t.tileTypes={SPACE:0,NORMAL:1},t.movementThreshold=window.innerWidth/i*(f+l),t.directions={LEFT:0,UP:1,RIGHT:2,DOWN:3},t.events={MOVE:"MOVE"}},"./src/Index/index.js":function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n("./src/styles/index.pcss");var s=n("./src/Index/canvas.js"),c=i(s),a=n("./src/Index/puzzle.js"),l=i(a),u=n("./src/Index/input.js"),f=i(u),h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.row,i=void 0===n?4:n,o=t.col,s=void 0===o?4:o;r(this,e);var a=new c.default,u=new f.default({canvas:a.getCanvas()}),h=new l.default({ctx:a.getCtx(),row:i,col:s,input:u});this.canvas=a,this.puzzle=h}return o(e,[{key:"render",value:function(){var e=this.puzzle,t=this.canvas;t.clear(),e.render()}},{key:"loop",value:function(){var e=this;this.render(),requestAnimationFrame(function(){e.loop()})}},{key:"start",value:function(){this.loop()}}]),e}();(new h).start()},"./src/Index/input.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n("./node_modules/eventemitter3/index.js"),a=n("./src/Index/configs.js"),l={TOUCH_UP:0,TOUCH_DOWN:1},u=function(e){return e.changedTouches?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:{x:e.clientX,y:e.clientY}},f=function(e){function t(e){var n=e.canvas;i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.start=function(e){o.inputStatus=l.TOUCH_DOWN;var t=u(e);o.resetPoint(t)},o.move=function(e){var t=u(e);o.pointX=t.x,o.pointY=t.y,o.tryMove()},o.end=function(){o.inputStatus=l.TOUCH_UP,o.resetPoint(o.invalidPoint)},o.canvas=n,o.inputStatus=l.TOUCH_UP,o.inverse=!0,o.invalidPoint={x:null,y:null},o.resetPoint(o.invalidPoint),o.initialize(),o}return o(t,e),s(t,[{key:"initialize",value:function(){var e=this.canvas;e.addEventListener("touchstart",this.start),e.addEventListener("touchmove",this.move),e.addEventListener("touchend",this.end),e.addEventListener("touchcancel",this.end)}},{key:"tryMove",value:function(){var e=Math.abs(this.startPointX-this.pointX),t=Math.abs(this.startPointY-this.pointY),n={x:this.pointX,y:this.pointY};e>t?e>a.movementThreshold&&(this.pointX-this.startPointX>0?(this.emit(a.events.MOVE,this.inverse?a.directions.RIGHT:a.directions.LEFT,n),this.resetPoint(n)):(this.emit(a.events.MOVE,this.inverse?a.directions.LEFT:a.directions.RIGHT,n),this.resetPoint(n))):t>a.movementThreshold&&(this.pointY-this.startPointY>0?(this.emit(a.events.MOVE,this.inverse?a.directions.DOWN:a.directions.UP,n),this.resetPoint(n)):(this.emit(a.events.MOVE,this.inverse?a.directions.UP:a.directions.DOWN,n),this.resetPoint(n)))}},{key:"resetPoint",value:function(e){this.startPointX=e.x,this.startPointY=e.y,this.pointX=e.x,this.pointY=e.y}}]),t}(c.EventEmitter);t.default=f},"./src/Index/puzzle.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,c=e[Symbol.iterator]();!(i=(s=c.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&c.return&&c.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n("./src/Index/configs.js"),c=function(){function e(t){var n=t.ctx,r=t.width,o=t.height,c=t.text,a=t.type;i(this,e),this.ctx=n,this.width=r,this.height=o,this.borderWidth=s.tileBorderWidth,this.strokeStyle=s.tileBorderColor,this.text=c,this.type=a}return o(e,[{key:"renderSpaceTile",value:function(){}},{key:"renderNormalTile",value:function(e){var t=e.rowIndex,n=e.colIndex,i=this.ctx,r=this.strokeStyle,o=this.borderWidth,c=this.width,a=this.height,l=this.text,u=(0,s.getTilePosition)({colIndex:n,rowIndex:t}),f=u.x,h=u.y;i.fillStyle="#000",i.strokeStyle=r,i.lineWidth=o,i.fillRect(f,h,c,a),i.font="48px serif",i.textAlign="center",i.textBaseline="middle",i.fillStyle="#fff",i.fillText(l,f+c/2,h+a/2)}},{key:"render",value:function(e){var t=e.rowIndex,n=e.colIndex,i=this.type;return i===s.tileTypes.SPACE?this.renderSpaceTile({rowIndex:t,colIndex:n}):this.renderNormalTile({rowIndex:t,colIndex:n})}}]),e}(),a=function(){function e(t){var n=t.ctx;i(this,e),this.ctx=n,this.x=s.gridX,this.y=s.gridY,this.width=this.height=s.gridSize,this.borderWidth=s.gridBorderWidth,this.strokeStyle=s.gridBorderColor}return o(e,[{key:"render",value:function(){var e=this.ctx,t=this.strokeStyle,n=this.borderWidth,i=this.x,r=this.y,o=this.width,s=this.height;e.strokeStyle=t,e.lineWidth=n,e.strokeRect(i,r,o,s)}}]),e}(),l=function(){function e(t){var n=t.ctx,r=t.row,o=t.col,s=t.input;i(this,e),this.ctx=n,this.row=r,this.col=o,this.input=s,this.grid=new a({ctx:n}),this.tileList=this.initializeTileList(),this.initializeInput()}return o(e,[{key:"initializeInput",value:function(){var e=this;this.input.on(s.events.MOVE,function(t,n){e.move(t,n)})}},{key:"initializeTileList",value:function(){var e=this.ctx,t=this.col,n=this.row,i=s.tileSize,r=s.tileSize;return Array.from({length:n},function(o,a){return Array.from({length:t},function(o,l){return new c({ctx:e,width:i,height:r,colIndex:l,rowIndex:a,text:String(a*n+l+1),type:l===t-1&&a===n-1?s.tileTypes.SPACE:s.tileTypes.NORMAL})})})}},{key:"move",value:function(e,t){var n=this.findSpacePosition(),i=n.row,o=n.col;if(e===s.directions.LEFT){o<=0&&this.input.resetPoint(t);var c=this.tileList[i],a=c.splice(o,1),l=r(a,1),u=l[0];c.splice(o-1,0,u)}else if(e===s.directions.UP){i<=0&&this.input.resetPoint(t);var f=this.tileList[i],h=this.tileList[i-1],d=f.splice(o,1),p=r(d,1),v=p[0],y=h.splice(o,1),x=r(y,1),g=x[0];f.splice(o,0,g),h.splice(o,0,v)}else if(e===s.directions.RIGHT){o>=this.col-1&&this.input.resetPoint(t);var b=this.tileList[i],m=b.splice(o,1),w=r(m,1),_=w[0];b.splice(o+1,0,_)}else{if(e!==s.directions.DOWN)throw new Error("unexpected direction: "+e);i>=this.row-1&&this.input.resetPoint(t);var j=this.tileList[i],O=this.tileList[i+1],P=j.splice(o,1),T=r(P,1),k=T[0],S=O.splice(o,1),C=r(S,1),L=C[0];j.splice(o,0,L),O.splice(o,0,k)}}},{key:"findSpacePosition",value:function(){var e=this.tileList;return e.reduce(function(e,t,n){var i=t.reduce(function(e,t,n){return t.type===s.tileTypes.SPACE?n:null===e?null:e},null);return null!==i?{row:n,col:i}:e},{col:null,row:null})}},{key:"render",value:function(){var e=this.grid,t=this.tileList;e.render(),t.map(function(e,t){return e.map(function(e,n){return e.render({rowIndex:t,colIndex:n})})})}}]),e}();t.default=l},"./src/entries/index.js":function(e,t,n){"use strict";n("./src/Index/index.js")},"./src/styles/index.pcss":function(e,t,n){var i=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/index.js?{}!./src/styles/index.pcss");"string"==typeof i&&(i=[[e.i,i,""]]);n("./node_modules/style-loader/addStyles.js")(i,{});i.locals&&(e.exports=i.locals)},0:function(e,t,n){e.exports=n("./src/entries/index.js")}},[0]);
//# sourceMappingURL=index.js.map