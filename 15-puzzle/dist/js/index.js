/*! @2017 vivaxy */
webpackJsonp([0],{"./node_modules/bezier-easing/src/index.js":function(t,e,n){"use strict";function i(t,e){return 1-3*e+3*t}function r(t,e){return 3*e-6*t}function o(t){return 3*t}function s(t,e,n){return((i(e,n)*t+r(e,n))*t+o(e))*t}function a(t,e,n){return 3*i(e,n)*t*t+2*r(e,n)*t+o(e)}function l(t,e,n,i,r){var o,a,l=0;do a=e+(n-e)/2,o=s(a,i,r)-t,o>0?n=a:e=a;while(Math.abs(o)>f&&++l<h);return a}function u(t,e,n,i){for(var r=0;r<c;++r){var o=a(e,n,i);if(0===o)return e;var l=s(e,n,i)-t;e-=l/o}return e}var c=4,d=.001,f=1e-7,h=10,v=11,p=1/(v-1),y="function"==typeof Float32Array;t.exports=function(t,e,n,i){function r(e){for(var i=0,r=1,s=v-1;r!==s&&o[r]<=e;++r)i+=p;--r;var c=(e-o[r])/(o[r+1]-o[r]),f=i+c*p,h=a(f,t,n);return h>=d?u(e,f,t,n):0===h?f:l(e,i,i+p,t,n)}if(!(0<=t&&t<=1&&0<=n&&n<=1))throw new Error("bezier x values must be in [0, 1] range");var o=y?new Float32Array(v):new Array(v);if(t!==e||n!==i)for(var c=0;c<v;++c)o[c]=s(c*p,t,n);return function(o){return t===e&&n===i?o:0===o?0:1===o?1:s(r(o),e,i)}}},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/index.js?{}!./src/styles/index.pcss":function(t,e,n){e=t.exports=n("./node_modules/css-loader/lib/css-base.js")(),e.push([t.i,"/**\n * @since 2017-02-20 10:27\n * @author vivaxy\n */\n\n:root {\n}\n\nhtml {\n    height: 100%;\n    box-sizing: border-box;\n}\n\nbody {\n    margin: 0;\n    height: 100%;\n    position: relative;\n    // background-color: rgb(90, 90, 90);\n}\n\ncanvas {\n    display: block;\n    background-color: #ffffff;\n    position: absolute;\n}\n",""])},"./node_modules/css-loader/lib/css-base.js":function(t,e,n){"use strict";t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<e.length;r++){var s=e[r];"number"==typeof s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),t.push(s))}},t}},"./node_modules/eventemitter3/index.js":function(t,e,n){"use strict";function i(){}function r(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(t,e,n,i,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new r(n,i||t,o),a=u?u+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],s]:t._events[a].push(s):(t._events[a]=s,t._eventsCount++),t}function s(t,e){0===--t._eventsCount?t._events=new i:delete t._events[e]}function a(){this._events=new i,this._eventsCount=0}var l=Object.prototype.hasOwnProperty,u="~";Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(u=!1)),a.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)l.call(t,e)&&n.push(u?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},a.prototype.listeners=function(t){var e=u?u+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,r=n.length,o=new Array(r);i<r;i++)o[i]=n[i].fn;return o},a.prototype.listenerCount=function(t){var e=u?u+t:t,n=this._events[e];return n?n.fn?1:n.length:0},a.prototype.emit=function(t,e,n,i,r,o){var s=u?u+t:t;if(!this._events[s])return!1;var a,l,c=this._events[s],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,i),!0;case 5:return c.fn.call(c.context,e,n,i,r),!0;case 6:return c.fn.call(c.context,e,n,i,r,o),!0}for(l=1,a=new Array(d-1);l<d;l++)a[l-1]=arguments[l];c.fn.apply(c.context,a)}else{var f,h=c.length;for(l=0;l<h;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),d){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,n);break;case 4:c[l].fn.call(c[l].context,e,n,i);break;default:if(!a)for(f=1,a=new Array(d-1);f<d;f++)a[f-1]=arguments[f];c[l].fn.apply(c[l].context,a)}}return!0},a.prototype.on=function(t,e,n){return o(this,t,e,n,!1)},a.prototype.once=function(t,e,n){return o(this,t,e,n,!0)},a.prototype.removeListener=function(t,e,n,i){var r=u?u+t:t;if(!this._events[r])return this;if(!e)return s(this,r),this;var o=this._events[r];if(o.fn)o.fn!==e||i&&!o.once||n&&o.context!==n||s(this,r);else{for(var a=0,l=[],c=o.length;a<c;a++)(o[a].fn!==e||i&&!o[a].once||n&&o[a].context!==n)&&l.push(o[a]);l.length?this._events[r]=1===l.length?l[0]:l:s(this,r)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=u?u+t:t,this._events[e]&&s(this,e)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=u,a.EventEmitter=a,t.exports=a},"./node_modules/style-loader/addStyles.js":function(t,e){function n(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=f[i.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](i.parts[o]);for(;o<i.parts.length;o++)r.parts.push(l(i.parts[o],e))}else{for(var s=[],o=0;o<i.parts.length;o++)s.push(l(i.parts[o],e));f[i.id]={id:i.id,refs:1,parts:s}}}}function i(t){for(var e=[],n={},i=0;i<t.length;i++){var r=t[i],o=r[0],s=r[1],a=r[2],l=r[3],u={css:s,media:a,sourceMap:l};n[o]?n[o].parts.push(u):e.push(n[o]={id:o,parts:[u]})}return e}function r(t,e){var n=p(),i=m[m.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),m.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function o(t){t.parentNode.removeChild(t);var e=m.indexOf(t);e>=0&&m.splice(e,1)}function s(t){var e=document.createElement("style");return e.type="text/css",r(t,e),e}function a(t){var e=document.createElement("link");return e.rel="stylesheet",r(t,e),e}function l(t,e){var n,i,r;if(e.singleton){var l=b++;n=y||(y=s(e)),i=u.bind(null,n,l,!1),r=u.bind(null,n,l,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=a(e),i=d.bind(null,n),r=function(){o(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(e),i=c.bind(null,n),r=function(){o(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}function u(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=g(e,r);else{var o=document.createTextNode(r),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function c(t,e){var n=e.css,i=e.media;if(i&&t.setAttribute("media",i),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function d(t,e){var n=e.css,i=e.sourceMap;i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var r=new Blob([n],{type:"text/css"}),o=t.href;t.href=URL.createObjectURL(r),o&&URL.revokeObjectURL(o)}var f={},h=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},v=h(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),p=h(function(){return document.head||document.getElementsByTagName("head")[0]}),y=null,b=0,m=[];t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},"undefined"==typeof e.singleton&&(e.singleton=v()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var r=i(t);return n(r,e),function(t){for(var o=[],s=0;s<r.length;s++){var a=r[s],l=f[a.id];l.refs--,o.push(l)}if(t){var u=i(t);n(u,e)}for(var s=0;s<o.length;s++){var l=o[s];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete f[l.id]}}}};var g=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},"./src/entries/index.js":function(t,e,n){"use strict";n("./src/main/index.js")},"./src/main/canvas.js":function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n("./src/main/configs.js"),s=function(){function t(){i(this,t);var e=document.querySelector(".js-canvas");this.canvas=e,this.ctx=e.getContext("2d"),this.width=o.canvasWidth,this.height=o.canvasHeight,e.width=o.canvasWidth,e.height=o.canvasHeight,this.styles={width:window.innerWidth,height:window.innerHeight,top:0,left:0},this.updatePosition()}return r(t,[{key:"updatePosition",value:function(){var t=this.canvas,e=this.width,n=this.height,i=this.styles;e/n>window.innerWidth/window.innerHeight?(i.width=window.innerWidth,i.height=window.innerWidth*n/e):(i.height=window.innerHeight,i.width=window.innerHeight*e/n),i.top=(window.innerHeight-i.height)/2,i.left=(window.innerWidth-i.width)/2,Object.keys(i).forEach(function(e){t.style[e]=i[e]+"px"})}},{key:"getCtx",value:function(){return this.ctx}},{key:"getCanvas",value:function(){return this.canvas}},{key:"clear",value:function(){this.ctx.clearRect(0,0,this.width,this.height)}}]),t}();e.default=s},"./src/main/configs.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=e.canvasWidth=800,r=(e.canvasHeight=1200,e.size=4),o=e.gridSize=720,s=e.gridBorderWidth=0,a=e.gridX=(i-o-2*s)/2,l=e.gridY=200,u=(e.gridBorderColor="#1e2e45",e.gridBackgroundColor="#1e2e45",e.tileSpacing=10),c=(e.tileBorderWidth=0,e.tileSize=(o-u*(r+1)-2*s)/r),d=(e.tileBorderColor="rgb(255, 0, 0)",e.tileTextColor="#1e2e45",e.tileColors=["#ff778d","#ffce54","#54c0ff","#e7e2ea"],e.getTilePosition=function(t){var e=t.rowIndex,n=t.colIndex,i=a+(n+1)*u+c*n+s,r=l+(e+1)*u+c*e+s;return{x:i,y:r}},e.buttonAreaWidth=720);e.buttonAreaHeight=60,e.buttonAreaTop=120,e.buttonAreaLeft=(i-d)/2,e.buttonSpacing=10,e.buttonBackgroundColor="#1e2e45",e.buttonDisabledBackgroundColor="#e7e2ea",e.buttonTextColor="#fff",e.buttonTypes={SCRAMBLE:"SCRAMBLE"},e.tileTypes={SPACE:"SPACE",NORMAL:"NORMAL"},e.mapCanvasToPoint=function(t){return window.innerWidth/i*t},e.mapPointToCanvas=function(t){return i/window.innerWidth*t},e.movementThreshold=(c+u)/2,e.directions={LEFT:"LEFT",UP:"UP",RIGHT:"RIGHT",DOWN:"DOWN"},e.events={MOVE:"MOVE",TRY_MOVE:"TRY_MOVE",RESET_SPACE_TILE:"RESET_SPACE_TILE",CLICK:"CLICK",RESIZE_CANVAS:"RESIZE_CANVAS"},e.browserEvents={TOUCH_START:"touchstart",TOUCH_MOVE:"touchmove",TOUCH_END:"touchend",TOUCH_CANCEL:"touchcancel",CLICK:"click",RESIZE:"resize",ORIENTATION_CHANGE:"orientationchange"},e.getNow=function(){return(new Date).getTime()}},"./src/main/index.js":function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();n("./src/styles/index.pcss");var s=n("./src/main/configs.js"),a=n("./src/main/canvas.js"),l=i(a),u=n("./src/main/puzzle.js"),c=i(u),d=n("./src/main/input.js"),f=i(d),h=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.row,i=void 0===n?4:n,o=e.col,a=void 0===o?4:o;r(this,t);var u=new l.default,d=new f.default({canvas:u.getCanvas()}),h=new c.default({ctx:u.getCtx(),row:i,col:a,input:d});this.canvas=u,this.puzzle=h,document.body.addEventListener(s.browserEvents.TOUCH_MOVE,function(t){t.preventDefault()},{passive:!1}),d.on(s.events.RESIZE_CANVAS,function(){u.updatePosition()})}return o(t,[{key:"render",value:function(){var t=this.puzzle,e=this.canvas;e.clear(),t.render()}},{key:"update",value:function(){var t=this.puzzle;t.update()}},{key:"loop",value:function(){var t=this;this.update(),this.render(),requestAnimationFrame(function(){t.loop()})}},{key:"start",value:function(){this.loop()}}]),t}();(new h).start()},"./src/main/input.js":function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n("./node_modules/eventemitter3/index.js"),l=n("./src/main/configs.js"),u={TOUCH_UP:0,TOUCH_DOWN:1},c=function(t){return t.changedTouches?{x:(0,l.mapPointToCanvas)(t.changedTouches[0].clientX-t.target.offsetLeft),y:(0,l.mapPointToCanvas)(t.changedTouches[0].clientY-t.target.offsetTop)}:{x:(0,l.mapPointToCanvas)(t.clientX-t.target.offsetLeft),y:(0,l.mapPointToCanvas)(t.clientY-t.target.offsetTop)}},d=function(t){function e(t){var n=t.canvas;i(this,e);var o=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return o.start=function(t){o.inputStatus=u.TOUCH_DOWN;var e=c(t);o.resetPoint(e)},o.move=function(t){var e=c(t);o.pointX=e.x,o.pointY=e.y,o.tryMove()},o.end=function(t){o.inputStatus=u.TOUCH_UP,o.resetPoint(o.invalidPoint),o.emit(l.events.RESET_SPACE_TILE)},o.click=function(t){o.emit(l.events.CLICK,c(t))},o.resize=function(){o.emit(l.events.RESIZE_CANVAS)},o.orientationChange=function(){o.emit(l.events.RESIZE_CANVAS)},o.canvas=n,o.inputStatus=u.TOUCH_UP,o.inverse=!0,o.invalidPoint={x:null,y:null},o.resetPoint(o.invalidPoint),o.initialize(),o}return o(e,t),s(e,[{key:"initialize",value:function(){var t=this.canvas,e=document.body;e.addEventListener(l.browserEvents.TOUCH_START,this.start,{passive:!0}),e.addEventListener(l.browserEvents.TOUCH_MOVE,this.move,{passive:!0}),e.addEventListener(l.browserEvents.TOUCH_END,this.end,{passive:!0}),e.addEventListener(l.browserEvents.TOUCH_CANCEL,this.end,{passive:!0}),t.addEventListener(l.browserEvents.CLICK,this.click,{passive:!0}),window.addEventListener(l.browserEvents.RESIZE,this.resize,{passive:!0}),window.addEventListener(l.browserEvents.ORIENTATION_CHANGE,this.orientationChange,{passive:!0})}},{key:"getDirection",value:function(){var t=Math.abs(this.startPointX-this.pointX),e=Math.abs(this.startPointY-this.pointY);return t>e?this.pointX-this.startPointX>0?this.inverse?l.directions.RIGHT:l.directions.LEFT:this.inverse?l.directions.LEFT:l.directions.RIGHT:this.pointY-this.startPointY>0?this.inverse?l.directions.DOWN:l.directions.UP:this.inverse?l.directions.UP:l.directions.DOWN}},{key:"tryMove",value:function(){var t=this.pointX-this.startPointX,e=this.pointY-this.startPointY,n={deltaX:t,deltaY:e,x:this.pointX,y:this.pointY},i=this.getDirection();this.emit(l.events.TRY_MOVE,i,n)}},{key:"setStartPoint",value:function(t){var e=t.x,n=void 0===e?this.startPointX:e,i=t.y,r=void 0===i?this.startPointY:i;this.startPointX=n,this.startPointY=r}},{key:"moveStartPoint",value:function(t){var e=t.x,n=t.y;this.startPointX+=e,this.startPointY+=n}},{key:"resetPoint",value:function(t){var e=t.x,n=t.y;this.startPointX=e,this.startPointY=n,this.pointX=e,this.pointY=n}}]),e}(a.EventEmitter);e.default=d},"./src/main/puzzle.js":function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n("./src/main/configs.js"),l=n("./src/main/puzzle/grid.js"),u=i(l),c=n("./src/main/puzzle/tile.js"),d=i(c),f=n("./src/main/puzzle/buttons.js"),h=i(f),v=function(t){return function(e){return Object.keys(e).map(function(n){if(n.toUpperCase()===t)return e[n]()})}},p=function(){function t(e){var n=e.ctx,i=e.row,r=e.col,s=e.input;o(this,t),this.ctx=n,this.row=i,this.col=r,this.input=s,this.grid=new u.default({ctx:n}),this.buttons=new h.default({ctx:n}),this.tileList=this.initializeTileList(),this.initializeInput(),this.buttons.enable([a.buttonTypes.SCRAMBLE]),this.moveActionEnabled=!0}return s(t,[{key:"initializeInput",value:function(){var t=this;this.input.on(a.events.TRY_MOVE,function(e,n){t.moveActionEnabled&&(t.tryMove(e,n),v(e)({left:function(){n.deltaX<-a.movementThreshold&&t.move(e,n)},up:function(){n.deltaY<-a.movementThreshold&&t.move(e,n)},right:function(){n.deltaX>a.movementThreshold&&t.move(e,n)},down:function(){n.deltaY>a.movementThreshold&&t.move(e,n)}}))}),this.input.on(a.events.RESET_SPACE_TILE,function(){var e=t.findSpaceTile();e.animateToResetPosition()}),this.input.on(a.events.CLICK,function(e){var n=t.buttons.hitButton(e);switch(n){case a.buttonTypes.SCRAMBLE:t.moveActionEnabled=!1,t.scramble(),t.moveActionEnabled=!0,t.buttons.enable([a.buttonTypes.SCRAMBLE])}})}},{key:"initializeTileList",value:function(){var t=this.ctx,e=this.col,n=this.row,i=a.tileSize,r=a.tileSize;return Array.from({length:n},function(o,s){return Array.from({length:e},function(o,l){return new d.default({ctx:t,width:i,height:r,colIndex:l,rowIndex:s,text:String(s*n+l+1),type:l===e-1&&s===n-1?a.tileTypes.SPACE:a.tileTypes.NORMAL})})})}},{key:"tryMove",value:function(t,e){var n=this.findSpaceTile();n.colIndex>=a.size-1&&e.deltaX>0&&(this.input.setStartPoint({x:n.x}),e.deltaX=0),n.colIndex<=0&&e.deltaX<0&&(this.input.setStartPoint({x:n.x}),e.deltaX=0),n.rowIndex<=0&&e.deltaY<0&&(this.input.setStartPoint({y:n.y}),e.deltaY=0),n.rowIndex>=a.size-1&&e.deltaY>0&&(this.input.setStartPoint({y:n.y}),e.deltaY=0),n.deltaX=e.deltaX,n.deltaY=e.deltaY}},{key:"swapTiles",value:function(t,e){var n=t.rowIndex,i=t.colIndex,r=e.rowIndex,o=e.colIndex,s=this.tileList[n][i],l=this.tileList[r][o];this.tileList[n][i]=l,this.tileList[r][o]=s,s.rowIndex=r,s.colIndex=o,l.rowIndex=n,l.colIndex=i;var u=s.deltaX,c=s.deltaY;s.deltaX=(i-o)*(a.tileSize+a.tileSpacing)+u,s.deltaY=(n-r)*(a.tileSize+a.tileSpacing)+c,l.deltaX=(o-i)*(a.tileSize+a.tileSpacing),l.deltaY=(r-n)*(a.tileSize+a.tileSpacing),l.animateToResetPosition(),this.input.moveStartPoint({x:(o-i)*(a.tileSize+a.tileSpacing),y:(r-n)*(a.tileSize+a.tileSpacing)})}},{key:"move",value:function(t,e){var n=this,i=this.findSpaceTile(),r=i.rowIndex,o=i.colIndex;v(t)({left:function(){return o<=0?void n.input.resetPoint(e):void n.swapTiles({rowIndex:r,colIndex:o},{rowIndex:r,colIndex:o-1})},up:function(){return r<=0?void n.input.resetPoint(e):void n.swapTiles({rowIndex:r,colIndex:o},{rowIndex:r-1,colIndex:o})},right:function(){return o>=n.col-1?void n.input.resetPoint(e):void n.swapTiles({rowIndex:r,colIndex:o},{rowIndex:r,colIndex:o+1})},down:function(){return r>=n.row-1?void n.input.resetPoint(e):void n.swapTiles({rowIndex:r,colIndex:o},{rowIndex:r+1,colIndex:o})}})}},{key:"findSpaceTile",value:function(){var t=this.tileList;return t.reduce(function(t,e){return t||e.reduce(function(t,e){return e.type===a.tileTypes.SPACE?e:t},null)},null)}},{key:"render",value:function(){var t=this.grid,e=this.tileList,n=this.buttons,i=e.reduce(function(t,e){var n=t.list,i=t.spaceTile,o=e.reduce(function(t,e){var n=t.list,i=t.spaceTile;return e.type!==a.tileTypes.SPACE?{list:[].concat(r(n),[e]),spaceTile:i}:{list:n,spaceTile:e}},{list:[],spaceTile:null}),s=o.list,l=o.spaceTile;return{list:[].concat(r(n),r(s)),spaceTile:i||l}},{list:[],spaceTile:null});t.render(),i.spaceTile.render(),i.list.map(function(t){t.render()}),n.render()}},{key:"update",value:function(){this.tileList.forEach(function(t){t.forEach(function(t){t.update()})})}},{key:"scramble",value:function(){var t=this,e=Object.keys(a.directions);Array.from({length:1e3},function(){return a.directions[e[Math.floor(Math.random()*e.length)]]}).map(function(e){return t.move(e,{x:0,y:0})})}}]),t}();e.default=p},"./src/main/puzzle/buttons.js":function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n("./src/main/configs.js"),s=function(){function t(e){var n=e.ctx;i(this,t),this.ctx=n,this.buttons=[{text:"Scramble",disabled:!0,type:o.buttonTypes.SCRAMBLE}]}return r(t,[{key:"enable",value:function(t){return this.buttons.map(function(e){return!!t.includes(e.type)&&(e.disabled=!1,!0)})}},{key:"hitButton",value:function(t){var e=t.x,n=t.y,i=(o.buttonAreaWidth+o.buttonSpacing)/this.buttons.length-o.buttonSpacing,r=this.buttons.find(function(t,r){var s=o.buttonAreaLeft+r*(i+o.buttonSpacing);return e>s&&e<s+i&&n>o.buttonAreaTop&&n<o.buttonAreaTop+o.buttonAreaHeight&&!t.disabled&&(t.disabled=!0,!0)});return r?r.type:null}},{key:"render",value:function(){var t=this.ctx,e=(o.buttonAreaWidth+o.buttonSpacing)/this.buttons.length-o.buttonSpacing;this.buttons.forEach(function(n,i){var r=o.buttonAreaLeft+i*(e+o.buttonSpacing);t.fillStyle=n.disabled?o.buttonDisabledBackgroundColor:o.buttonBackgroundColor,t.fillRect(r,o.buttonAreaTop,e,o.buttonAreaHeight),t.font="48px serif",t.textAlign="center",t.textBaseline="middle",t.fillStyle=o.buttonTextColor,t.fillText(n.text,r+e/2,o.buttonAreaTop+o.buttonAreaHeight/2)})}}]),t}();e.default=s},"./src/main/puzzle/grid.js":function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n("./src/main/configs.js"),s=function(){function t(e){var n=e.ctx;i(this,t),this.ctx=n,this.x=o.gridX,this.y=o.gridY,this.width=this.height=o.gridSize,this.borderWidth=o.gridBorderWidth,this.strokeStyle=o.gridBorderColor,this.fillStyle=o.gridBackgroundColor}return r(t,[{key:"render",value:function(){var t=this.ctx,e=this.strokeStyle,n=this.fillStyle,i=this.borderWidth,r=this.x,o=this.y,s=this.width,a=this.height;i&&(t.strokeStyle=e,t.lineWidth=i,t.strokeRect(r,o,s,a)),t.fillStyle=n,t.fillRect(r,o,s,a)}}]),t}();e.default=s},"./src/main/puzzle/tile.js":function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n("./node_modules/bezier-easing/src/index.js"),a=i(s),l=n("./src/main/configs.js"),u=function(){function t(e){var n=e.ctx,i=e.width,o=e.height,s=e.text,u=e.type,c=e.rowIndex,d=e.colIndex,f=e.deltaX,h=void 0===f?0:f,v=e.deltaY,p=void 0===v?0:v;r(this,t),this.ctx=n,this.width=i,this.height=o,this.borderWidth=l.tileBorderWidth,this.strokeStyle=l.tileBorderColor,this.text=s,this.type=u,this.rowIndex=c,this.colIndex=d,this.deltaX=h,this.deltaY=p,this.fillStyle=l.tileColors[Math.min(c,d)],this.easing=(0,a.default)(.2,0,0,1),this.animationDuration=100}return o(t,[{key:"renderSpaceTile",value:function(){var t=this.ctx,e=this.fillStyle,n=this.borderWidth,i=this.width,r=this.height,o=this.rowIndex,s=this.colIndex,a=this.deltaX,u=this.deltaY,c=(0,l.getTilePosition)({colIndex:s,rowIndex:o}),d=c.x,f=c.y;t.fillStyle=e,t.fillRect(d+a,f+u,i,r),n&&(t.lineWidth=n,t.strokeStyle=strokeStyle,t.strokeRect(d,f,i,r))}},{key:"renderNormalTile",value:function(){var t=this.ctx,e=this.strokeStyle,n=this.fillStyle,i=this.borderWidth,r=this.width,o=this.height,s=this.text,a=this.rowIndex,u=this.colIndex,c=this.deltaX,d=this.deltaY,f=(0,l.getTilePosition)({colIndex:u,rowIndex:a}),h=f.x,v=f.y;t.fillStyle=n,t.fillRect(h+c,v+d,r,o),i&&(t.lineWidth=i,t.strokeStyle=e,t.strokeRect(h,v,r,o)),t.font="48px serif",t.textAlign="center",t.textBaseline="middle",t.fillStyle=l.tileTextColor,t.fillText(s,h+c+r/2,v+d+o/2)}},{key:"render",value:function(){var t=this.type;return t===l.tileTypes.SPACE?this.renderSpaceTile():this.renderNormalTile()}},{key:"update",value:function(){this.updateDeltaAnimation()}},{key:"animateToResetPosition",value:function(){this.animationStartTime=(0,l.getNow)(),this.animationStartDeltaX=this.deltaX,this.animationStartDeltaY=this.deltaY,this.animationStartWidth=this.width,this.animationStartHeight=this.height}},{key:"updateDeltaAnimation",value:function(){if(this.animationStartTime){var t=((0,l.getNow)()-this.animationStartTime)/this.animationDuration;this.deltaX=this.animationStartDeltaX*(1-this.easing(t)),this.deltaY=this.animationStartDeltaY*(1-this.easing(t)),t>=1&&(this.animationStartTime=null,this.animationStartDeltaX=null,this.animationStartDeltaY=null,this.animationStartWidth=null,this.animationStartHeight=null)}}}]),t}();e.default=u},"./src/styles/index.pcss":function(t,e,n){var i=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/index.js?{}!./src/styles/index.pcss");"string"==typeof i&&(i=[[t.i,i,""]]);n("./node_modules/style-loader/addStyles.js")(i,{});i.locals&&(t.exports=i.locals)},0:function(t,e,n){t.exports=n("./src/entries/index.js")}},[0]);
//# sourceMappingURL=index.js.map